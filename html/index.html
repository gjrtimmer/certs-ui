<!DOCTYPE html>
<html lang="en" style="height: 100%;" data-bs-theme="auto">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />
    <title>certs.k3s - Internal CA Installer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="d-flex flex-column min-vh-100">
    <div class="container mt-5">
        <div class="card bg-body text-body shadow-lg">
            <div class="card-body">
                <h1 class="card-title mb-3" id="portal-welcome"></h1>
                <p class="card-text mb-4">This portal helps you install the internal CA certificate on your device.</p>

                <h2 class="h4 mb-3">Install Instructions:</h2>
                <ul class="list-group list-group-flush mb-4">
                    <li class="list-group-item bg-body text-body">
                        <strong>Linux:</strong>
                        <code class="bg-body px-2 py-1 rounded">curl -fsSL https://certs.k3s/scripts/install-linux.sh | bash</code>
                    </li>
                    <li class="list-group-item bg-body text-body">
                        <strong>macOS:</strong>
                        <code class="bg-body px-2 py-1 rounded">curl -fsSL https://certs.k3s/scripts/install-macos.sh | bash</code>
                    </li>
                    <li class="list-group-item bg-body text-body">
                        <strong>Windows:</strong>
                        Download and run <a href="/scripts/install-windows.ps1" class="btn btn-secondary btn-sm ms-2">install-windows.ps1</a> via PowerShell.
                    </li>
                    <li class="list-group-item bg-body text-body">
                        <strong>iOS/macOS Mobile:</strong>
                        Download and install <a href="/scripts/install.mobileconfig" class="btn btn-secondary btn-sm ms-2">this profile</a>.
                    </li>
                </ul>

                <h2 class="h4 mb-3">Manual Downloads:</h2>
                <ul class="list-group list-group-flush mb-4">
                    <li class="list-group-item bg-body text-body">
                        <a href="/certs/ca-root.pem" class="btn btn-primary btn-sm">Download CA Root Certificate</a>
                    </li>
                </ul>

                <p class="fst-italic">If you have trouble, contact your administrator.</p>
            </div>
        </div>
    </div>
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
(function() {
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  document.documentElement.setAttribute('data-bs-theme', prefersDark ? 'dark' : 'light');
})();
document.addEventListener("DOMContentLoaded", function() {
  const domain = window.location.hostname;
  document.getElementById('portal-welcome').textContent = `Welcome to ${domain}`;
});
</script>
</body>
</html>
